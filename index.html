<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PromptFi — Decentralized Prompt Marketplace</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="assets/css/style.css"/>
<link rel="manifest" href="manifest.json"/>
<link rel="icon" href="assets/img/favicon.png" type="image/png"/>
<script src="https://unpkg.com/@solana/web3.js@1.95.3/lib/index.iife.min.js" defer></script>
</head>
<body>
  <nav>
    <div class="container navbar">
      <a href="/" class="brand internal-link">PromptFi</a>
      <div class="nav-actions">
        <details id="menu" class="select">
          <summary class="input trigger" role="button" aria-haspopup="menu" aria-expanded="false">Menu</summary>
          <div class="menu">
            <a href="/explore" role="menuitem" class="internal-link">Explore</a>
            <a href="/purchases" role="menuitem" class="internal-link">My Purchases</a>
            <a href="/creators" role="menuitem" class="internal-link">Creators</a>
          </div>
        </details>
        <button id="walletBtn" class="btn glow">Connect Wallet</button>
      </div>
    </div>
  </nav>

  <section id="home" class="hero">
    <div class="hero-bg"></div>
    <div class="container" style="padding:48px 0">
      <div class="grid grid-2">
        <div>
          <span class="badge">Crypto-native prompt marketplace</span>
          <h1>Turn Your AI Prompts Into Crypto Assets</h1>
          <p class="muted">Buy high-quality prompts with SOL. Unlock instantly after confirmed payment.</p>
          <div style="display:flex;gap:12px;margin-top:16px">
            <a href="/explore" class="btn glow internal-link">Explore Prompts</a>
            <a href="/" class="btn internal-link">How it works</a>
          </div>
        </div>
        <div class="hero-art" aria-hidden="true"></div>
      </div>
    </div>
  </section>

  <div class="toast" id="toast"></div>

  <section id="filters" class="container filters" style="margin-top:12px;overflow:visible; display: none;">
    <div class="card card-body" style="overflow:visible">
      <div class="grid" style="grid-template-columns:2fr 1fr 1fr;gap:12px;align-items:end;overflow:visible">
        <label>Search<input id="q" class="input" placeholder="Search title or category"/></label>

        <details id="cat" class="select">
          <summary class="input trigger"><span>Category</span><span id="cat_val" class="value" data-value="">All</span></summary>
          <div class="menu"></div>
        </details>

        <details id="sort" class="select">
          <summary class="input trigger"><span>Sort</span><span id="sort_val" class="value" data-value="default">Default</span></summary>
          <div class="menu"></div>
        </details>
      </div>
    </div>
  </section>

  <section id="market" class="container" style="padding:20px 0 8px; display: none;">
    <div class="kv" style="margin-bottom:8px">
      <h2>Marketplace</h2>
      <div id="addr" class="muted">Wallet: not connected</div>
    </div>
    <div id="skeleton" class="grid grid-3">
      <div class="skel"></div><div class="skel"></div><div class="skel"></div>
    </div>
    <div id="grid" class="grid grid-3" style="margin-top:12px"></div>
  </section>

  <section id="how" class="container" style="padding-bottom:20px">
    <h2>How to Buy</h2>
    <ol class="grid grid-3">
      <li class="card card-body">
        <h3>1) Connect</h3>
        <p class="muted">Click Connect Wallet and choose Phantom.</p>
        <p class="muted">If already connected, the button shows Disconnect—click again to disconnect.</p>
        <p class="muted">Permissions are read-only until you approve a transaction.</p>
      </li>
      <li class="card card-body">
        <h3>2) Buy</h3>
        <p class="muted">Open a prompt and press Buy.</p>
        <p class="muted">Review the price (in SOL) and confirm in Phantom. Network fees are shown before you approve.</p>
        <p class="muted">If you cancel, nothing is charged.</p>
      </li>
      <li class="card card-body">
        <h3>3) Unlock</h3>
        <p class="muted">After final on-chain confirmation (a few seconds), the prompt decrypts and appears.</p>
        <p class="muted">It’s saved under My Purchases at /purchases for future access.</p>
        <p class="muted">If it doesn’t appear instantly, refresh or reconnect your wallet—the purchase is tied to your address.</p>
      </li>
    </ol>
  </section>

  <section id="roadmap" class="container" style="padding-bottom:20px">
    <h2>Roadmap</h2>
    <div class="grid grid-3">
      <div class="card card-body">
        <h3>2025 (Rest of Year)</h3>
        <h4>Aug–Sep 2025 — Hardening & Mainnet Readiness</h4>
        <h5>Product</h5>
        <ul class="muted">
          <li>Finalize Home with Hero + How to Buy only; routes for /explore, /creators, /purchases.</li>
          <li>Purchase flow: price in SOL, confirm in Phantom, post-confirmation decrypt & reveal; save to /purchases.</li>
        </ul>
        <h5>Engineering</h5>
        <ul class="muted">
          <li>Wallet adapter (Phantom) + Solana RPC provider rotation; testnet → mainnet switch flag.</li>
          <li>On-chain receipts + off-chain prompt encryption (seller public key; buyer decrypt after tx).</li>
          <li>SPA fallback _redirects; error boundaries; 404.</li>
          <li>Observability: client logs, Sentry, RPC error capture, basic analytics (page, route, purchase).</li>
        </ul>
        <h5>Ops/Legal</h5>
        <ul class="muted">
          <li>Terms, Privacy, Refund policy; creator ToS + licensing (non-exclusive use).</li>
          <li>Abuse/malware prompt policy + takedown email.</li>
        </ul>
        <h5>Ship-criteria</h5>
        <ul class="muted">
          <li>Cold start to purchase < 2 min; successful decrypt ≥ 99%.</li>
          <li>Build clean, zero console errors; refresh on deep routes works.</li>
        </ul>
        <h4>Oct–Dec 2025 — Public Beta & Monetization</h4>
        <h5>Product</h5>
        <ul class="muted">
          <li>Creator onboarding: list/edit prompts, set price, draft vs published.</li>
          <li>Ratings + basic reviews; prompt versioning & update notes.</li>
          <li>My Purchases: search/filter, re-reveal, copy button, usage tips.</li>
          <li>Fee toggle (e.g., 10% marketplace fee); seller payouts.</li>
        </ul>
        <h5>Engineering</h5>
        <ul class="muted">
          <li>Cloud functions (webhooks) for tx confirmation; retry + idempotency.</li>
          <li>CDN cache rules; image optimization; PWA installable.</li>
          <li>Anti-fraud basics: duplicate purchase guard, price changes locked at checkout.</li>
        </ul>
        <h5>GTM</h5>
        <ul class="muted">
          <li>20 seed creators; launch page; X/Discord; weekly “Top prompts”.</li>
          <li>Creator incentives: 0% fee for first month, featured slots.</li>
        </ul>
        <h5>Ship-criteria</h5>
        <ul class="muted">
          <li>100+ listed prompts; 50+ paid purchases; refund rate < 3%; TTFB < 200ms global.</li>
        </ul>
      </div>
      <div class="card card-body">
        <h3>2026</h3>
        <h4>Q1 2026 — Growth Foundations</h4>
        <h5>Product</h5>
        <ul class="muted">
          <li>Collections/bundles; coupons; featured placements.</li>
          <li>Creator analytics v1: views, conversion, sales, payout history.</li>
          <li>Search & tags; report content flow.</li>
        </ul>
        <h5>Engineering</h5>
        <ul class="muted">
          <li>Indexing pipeline for search; incremental static regeneration/job to refresh stats.</li>
          <li>Robust rate limits; RPC fallback tree; backoff for congestion.</li>
          <li>Backups for encrypted prompt blobs; key rotation tooling.</li>
        </ul>
        <h5>GTM</h5>
        <ul class="muted">
          <li>Partner with AI communities; monthly creator spotlights.</li>
          <li>Blog: “prompt teardown” series; SEO pages for categories.</li>
        </ul>
        <h5>KPIs</h5>
        <ul class="muted">
          <li>500 WAU; 200 monthly purchases; creator NPS ≥ 40.</li>
        </ul>
        <h4>Q2 2026 — Teams & API</h4>
        <h5>Product</h5>
        <ul class="muted">
          <li>Team seats: small orgs share purchases across wallets/emails.</li>
          <li>API/Webhooks: fetch purchased prompt (masked), sales events for creators.</li>
          <li>Affiliates/referrals with tracked links and payout ledger.</li>
        </ul>
        <h5>Engineering</h5>
        <ul class="muted">
          <li>OAuth-lite for teams (email magic links) mapped to wallet(s).</li>
          <li>Signed URLs for prompt fetch with short TTL; HMAC webhooks.</li>
        </ul>
        <h5>KPIs</h5>
        <ul class="muted">
          <li>1K WAU; 400 monthly purchases; 20 org teams; ≥10 API users.</li>
        </ul>
      </div>
      <div class="card card-body">
        <h4>Q3 2026 — Trust, Curation, Performance</h4>
        <h5>Product</h5>
        <ul class="muted">
          <li>Moderation v2 (queue, flags, auto-filters); creator verification badges.</li>
          <li>Recommendation model (collaborative + content tags).</li>
          <li>Localization groundwork (EN → +1 language).</li>
        </ul>
        <h5>Engineering</h5>
        <ul class="muted">
          <li>Edge functions for menu/API; image & JSON at edge cache.</li>
          <li>End-to-end tests (Playwright) for purchase + unlock + regressions.</li>
          <li>Bug bounty (scope: XSS, CSRF, prompt leakage).</li>
        </ul>
        <h5>KPIs</h5>
        <ul class="muted">
          <li>Repeat purchase rate ≥ 30%; moderation SLA < 24h.</li>
        </ul>
        <h4>Q4 2026 — Scale & Compliance</h4>
        <h5>Product</h5>
        <ul class="muted">
          <li>Tax/GST & invoices; creator earnings dashboard with exports.</li>
          <li>Multi-currency display (price in USD/EUR while transacting in SOL).</li>
          <li>Advanced bundles, subscriptions (optional pilot).</li>
        </ul>
        <h5>Engineering</h5>
        <ul class="muted">
          <li>Cost monitoring (RPC/CDN/compute); rollup RPC provider; autoscaling.</li>
          <li>Data retention policy + user data export/delete.</li>
        </ul>
        <h5>KPIs</h5>
        <ul class="muted">
          <li>2K WAU; 1K monthly purchases; refund rate < 2%; uptime 99.95%.</li>
        </ul>
      </div>
    </div>
  </section>

  <section id="creators" class="container" style="padding-bottom:20px; display: none;">
    <h2>Creators (coming soon)</h2>
    <div class="card card-body">
      <p class="muted" style="margin-top:0">
        PromptFi will let creators list prompts, set SOL pricing, and get paid non‑custodially. Listings will be stored on IPFS with on‑chain receipts. Join the waitlist and be first to sell.
      </p>
      <div style="display:flex;gap:8px;flex-wrap:wrap">
        <input id="wlEmail" class="input" placeholder="Email or Telegram"/>
        <button class="btn glow" onclick="localStorage.setItem('pf_waitlist', (localStorage.getItem('pf_waitlist')||'') + '\n' + document.getElementById('wlEmail').value); this.textContent='Joined ✓';">Join Waitlist</button>
      </div>
    </div>
  </section>

  <section id="purchases" class="container" style="padding-bottom:24px; display: none;">
    <h2>My Purchases</h2>
    <div id="purchasesList" class="card card-body">No purchases yet.</div>
  </section>

  <section id="not-found" class="container" style="padding:20px 0; display: none;">
    <h2>404 - Page Not Found</h2>
    <p class="muted">The page you are looking for does not exist.</p>
    <a href="/" class="btn internal-link">Go to Home</a>
  </section>

  <footer>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between">
      <span>© 2025 PromptFi</span>
      <div style="display:flex;gap:12px">
        <a href="/explore" class="internal-link">Marketplace</a>
        <a href="/purchases" class="internal-link">My Purchases</a>
        <a href="/" class="internal-link">How it works</a>
      </div>
    </div>
  </footer>

  <!-- Modal -->
  <div id="modal" class="modal">
    <div class="box">
      <div class="kv">
        <h3 id="mTitle" style="margin:0">Prompt</h3>
        <button class="btn" onclick="closeModal()">✕</button>
      </div>
      <p id="mMeta" class="muted" style="margin:6px 0 0"></p>

      <div class="card" style="margin-top:12px">
        <div class="card-body">
          <label>Brief (what do you need?)<textarea id="uBrief" class="input" rows="3" placeholder="Describe what you need (topic, tone, goal)…"></textarea></label>
          <div style="display:grid;grid-template-columns:3fr 1fr;gap:10px;margin-top:10px">
            <input id="uContact" class="input" placeholder="Your contact (email or Telegram)"/>
            <button id="buyNow" class="btn glow">Buy & Unlock</button>
          </div>
        </div>
      </div>

      <div style="height:160px;border:1px solid var(--b);border-radius:12px;margin-top:12px;background:
        radial-gradient(90px 90px at 20% 30%, rgba(168,85,247,.25), transparent 60%),
        radial-gradient(90px 90px at 80% 40%, rgba(6,182,212,.25), transparent 60%);"></div>

      <p id="mText" style="margin-top:12px"></p>
      <div style="display:flex;gap:8px;margin-top:12px">
        <a id="txLink" target="_blank" class="btn hidden">View on Solscan</a>
        <button id="copyBtn" class="btn hidden">Copy Prompt</button>
      </div>
    </div>
  </div>

  <script src="assets/js/app.js"></script>
</body>
</html>
